set(SDL_STATIC OFF)
set(SDL_SHARED ON)
set(SDL_TESTS OFF)
set(SDL_WAYLAND ${SVL_WAYLAND})
set(SDL_X11 ${SVL_X11})
set(SDL_DISABLE_INSTALL ON)
add_subdirectory(SDL EXCLUDE_FROM_ALL SYSTEM)

set(VULKAN_HPP_BUILD_WITH_LOCAL_VULKAN_HPP ON)
set(VULKAN_HPP_NO_CONSTRUCTORS ON)
set(VULKAN_HPP_BUILD_CXX_MODULE ON)
add_subdirectory(Vulkan-Hpp EXCLUDE_FROM_ALL SYSTEM)
target_compile_definitions(
    VulkanHppModule
    PRIVATE VULKAN_HPP_CXX_MODULE_EXPERIMENTAL_WARNING
)

set(VOLK_NAMESPACE ON)
set(VOLK_STATIC_DEFINES)
if(CMAKE_SYSTEM_NAME STREQUAL "Linux")
    if(SVL_X11)
        list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_XCB_KHR)
    endif()
    if(SVL_WAYLAND)
        list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_WAYLAND_KHR)
    endif()
elseif(CMAKE_SYSTEM_NAME STREQUAL "Windows")
    list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_WIN32_KHR)
elseif(CMAKE_SYSTEM_NAME STREQUAL "Android")
    list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_ANDROID_KHR)
elseif(CMAKE_SYSTEM_NAME STREQUAL "Darwin")
    list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_MACOS_MVK)
elseif(CMAKE_SYSTEM_NAME STREQUAL "iOS")
    list(APPEND VOLK_STATIC_DEFINES VK_USE_PLATFORM_IOS_MVK)
endif()
# add_subdirectory(volk)

if(NOT spdlog_FOUND OR SVL_DEBUG_3RDPARTY)
    # Not tested
    add_subdirectory(spdlog EXCLUDE_FROM_ALL SYSTEM)
endif()
